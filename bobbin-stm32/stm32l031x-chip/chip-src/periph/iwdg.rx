(peripheral
    (group-name IWDG)
    (name IWDG)
    (address 0x40003000)
    (description "Independent watchdog")
    (register
        (name KR)
        (offset 0x0)
        (size 0x20)
        (access write-only)
        (reset-value 0x0)
        (description "Key register")
        (field
            (name KEY)
            (bit-offset 0)
            (bit-width 16)
            (description "Key value (write only, read 0x0000)")
        )
    )
    (register
        (name PR)
        (offset 0x4)
        (size 0x20)
        (access read-write)
        (reset-value 0x0)
        (description "Prescaler register")
        (field
            (name PR)
            (bit-offset 0)
            (bit-width 3)
            (description "Prescaler divider")
        )
    )
    (register
        (name RLR)
        (offset 0x8)
        (size 0x20)
        (access read-write)
        (reset-value 0xfff)
        (description "Reload register")
        (field
            (name RL)
            (bit-offset 0)
            (bit-width 12)
            (description "Watchdog counter reload value")
        )
    )
    (register
        (name SR)
        (offset 0xc)
        (size 0x20)
        (access read-only)
        (reset-value 0x0)
        (description "Status register")
        (field
            (name WVU)
            (bit-offset 2)
            (bit-width 1)
            (description "Watchdog counter window value update")
        )
        (field
            (name RVU)
            (bit-offset 1)
            (bit-width 1)
            (description "Watchdog counter reload value update")
        )
        (field
            (name PVU)
            (bit-offset 0)
            (bit-width 1)
            (description "Watchdog prescaler value update")
        )
    )
    (register
        (name WINR)
        (offset 0x10)
        (size 0x20)
        (access read-write)
        (reset-value 0xfff)
        (description "Window register")
        (field
            (name WIN)
            (bit-offset 0)
            (bit-width 12)
            (description "Watchdog counter window value")
        )
    )
)